version: '2'
services:
 app:
  image: thisisqasim/tastyigniter
#  build: .
  container_name: tasty_app
  restart: always
  ports:
  - "8001:80"
  volumes:
  - app_data:/var/www/html
  environment:
  - MYSQL_HOSTNAME=db
  - MYSQL_DATABASE=tastyigniter
  - MYSQL_USER=tastyigniter
  - MYSQL_PASSWORD=somepassword
volumes:
  app_data:
    driver: local
    
 db:
  image: mariadb
  container_name: tasty_db
  restart: always
  volumes:
  - db_data:/var/lib/mysql
  environment:
  - MYSQL_RANDOM_ROOT_PASSWORD=yes
  - MYSQL_DATABASE=tastyigniter
  - MYSQL_USER=tastyigniter
  - MYSQL_PASSWORD=somepassword
volumes:
  db_data:
    driver: local
